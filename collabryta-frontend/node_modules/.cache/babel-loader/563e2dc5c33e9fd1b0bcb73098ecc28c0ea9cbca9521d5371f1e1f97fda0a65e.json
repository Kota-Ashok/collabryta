{"ast":null,"code":"import api from './api';\nexport const authService = {\n  login: async (email, password) => {\n    const formData = new FormData();\n    formData.append('username', email);\n    formData.append('password', password);\n\n    // OAuth2PasswordRequestForm expects form data, not JSON\n    const response = await api.post('/auth/login', formData, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    });\n    if (response.data.access_token) {\n      localStorage.setItem('token', response.data.access_token);\n    }\n    return response.data;\n  },\n  register: async userData => {\n    const {\n      name,\n      email,\n      password\n    } = userData;\n    const response = await api.post('/users/', {\n      email,\n      password,\n      name\n    });\n    return response.data;\n  },\n  logout: () => {\n    localStorage.removeItem('token');\n  },\n  getCurrentUser: async () => {\n    const response = await api.get('/users/me');\n    return response.data;\n  },\n  isAuthenticated: () => {\n    return !!localStorage.getItem('token');\n  },\n  updateProfile: async profileData => {\n    const response = await api.put('/users/me', profileData);\n    return response.data;\n  }\n};","map":{"version":3,"names":["api","authService","login","email","password","formData","FormData","append","response","post","headers","data","access_token","localStorage","setItem","register","userData","name","logout","removeItem","getCurrentUser","get","isAuthenticated","getItem","updateProfile","profileData","put"],"sources":["D:/Collabryta/collabryta-frontend/src/services/authService.ts"],"sourcesContent":["import api from './api';\r\n\r\nexport const authService = {\r\n    login: async (email: string, password: string) => {\r\n        const formData = new FormData();\r\n        formData.append('username', email);\r\n        formData.append('password', password);\r\n\r\n        // OAuth2PasswordRequestForm expects form data, not JSON\r\n        const response = await api.post('/auth/login', formData, {\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n        });\r\n        if (response.data.access_token) {\r\n            localStorage.setItem('token', response.data.access_token);\r\n        }\r\n        return response.data;\r\n    },\r\n\r\n    register: async (userData: any) => {\r\n        const { name, email, password } = userData;\r\n        const response = await api.post('/users/', {\r\n            email,\r\n            password,\r\n            name,\r\n        });\r\n        return response.data;\r\n    },\r\n\r\n    logout: () => {\r\n        localStorage.removeItem('token');\r\n    },\r\n\r\n    getCurrentUser: async () => {\r\n        const response = await api.get('/users/me');\r\n        return response.data;\r\n    },\r\n\r\n    isAuthenticated: () => {\r\n        return !!localStorage.getItem('token');\r\n    },\r\n\r\n    updateProfile: async (profileData: any) => {\r\n        const response = await api.put('/users/me', profileData);\r\n        return response.data;\r\n    }\r\n};\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAEvB,OAAO,MAAMC,WAAW,GAAG;EACvBC,KAAK,EAAE,MAAAA,CAAOC,KAAa,EAAEC,QAAgB,KAAK;IAC9C,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEJ,KAAK,CAAC;IAClCE,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEH,QAAQ,CAAC;;IAErC;IACA,MAAMI,QAAQ,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,aAAa,EAAEJ,QAAQ,EAAE;MACrDK,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IACF,IAAIF,QAAQ,CAACG,IAAI,CAACC,YAAY,EAAE;MAC5BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,QAAQ,CAACG,IAAI,CAACC,YAAY,CAAC;IAC7D;IACA,OAAOJ,QAAQ,CAACG,IAAI;EACxB,CAAC;EAEDI,QAAQ,EAAE,MAAOC,QAAa,IAAK;IAC/B,MAAM;MAAEC,IAAI;MAAEd,KAAK;MAAEC;IAAS,CAAC,GAAGY,QAAQ;IAC1C,MAAMR,QAAQ,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,SAAS,EAAE;MACvCN,KAAK;MACLC,QAAQ;MACRa;IACJ,CAAC,CAAC;IACF,OAAOT,QAAQ,CAACG,IAAI;EACxB,CAAC;EAEDO,MAAM,EAAEA,CAAA,KAAM;IACVL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;EACpC,CAAC;EAEDC,cAAc,EAAE,MAAAA,CAAA,KAAY;IACxB,MAAMZ,QAAQ,GAAG,MAAMR,GAAG,CAACqB,GAAG,CAAC,WAAW,CAAC;IAC3C,OAAOb,QAAQ,CAACG,IAAI;EACxB,CAAC;EAEDW,eAAe,EAAEA,CAAA,KAAM;IACnB,OAAO,CAAC,CAACT,YAAY,CAACU,OAAO,CAAC,OAAO,CAAC;EAC1C,CAAC;EAEDC,aAAa,EAAE,MAAOC,WAAgB,IAAK;IACvC,MAAMjB,QAAQ,GAAG,MAAMR,GAAG,CAAC0B,GAAG,CAAC,WAAW,EAAED,WAAW,CAAC;IACxD,OAAOjB,QAAQ,CAACG,IAAI;EACxB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}