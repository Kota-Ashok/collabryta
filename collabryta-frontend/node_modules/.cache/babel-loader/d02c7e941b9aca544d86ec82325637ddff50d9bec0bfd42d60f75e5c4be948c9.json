{"ast":null,"code":"import api from './api';\nexport const authService = {\n  login: async (email, password) => {\n    const params = new URLSearchParams();\n    params.append('username', email);\n    params.append('password', password);\n\n    // FastAPI's OAuth2PasswordRequestForm expects x-www-form-urlencoded\n    const response = await api.post('/auth/token', params, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    });\n    if (response.data.access_token) {\n      localStorage.setItem('token', response.data.access_token);\n    }\n    return response.data;\n  },\n  register: async userData => {\n    const response = await api.post('/auth/register', userData);\n    return response.data;\n  },\n  logout: () => {\n    localStorage.removeItem('token');\n    window.location.href = '/login';\n  },\n  getCurrentUser: async () => {\n    const response = await api.get('/auth/me'); // Based on auth.py\n    return response.data;\n  },\n  isAuthenticated: () => {\n    return !!localStorage.getItem('token');\n  }\n};","map":{"version":3,"names":["api","authService","login","email","password","params","URLSearchParams","append","response","post","headers","data","access_token","localStorage","setItem","register","userData","logout","removeItem","window","location","href","getCurrentUser","get","isAuthenticated","getItem"],"sources":["D:/Collabryta/collabryta-frontend/src/services/authService.ts"],"sourcesContent":["import api from './api';\r\n\r\nexport interface User {\r\n    id: number;\r\n    email: string;\r\n    full_name: string;\r\n    is_active: boolean;\r\n}\r\n\r\nexport interface RegisterData {\r\n    email: string;\r\n    full_name: string;\r\n    password: string;\r\n}\r\n\r\nexport const authService = {\r\n    login: async (email: string, password: string) => {\r\n        const params = new URLSearchParams();\r\n        params.append('username', email);\r\n        params.append('password', password);\r\n\r\n        // FastAPI's OAuth2PasswordRequestForm expects x-www-form-urlencoded\r\n        const response = await api.post('/auth/token', params, {\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            }\r\n        });\r\n\r\n        if (response.data.access_token) {\r\n            localStorage.setItem('token', response.data.access_token);\r\n        }\r\n        return response.data;\r\n    },\r\n\r\n    register: async (userData: RegisterData) => {\r\n        const response = await api.post('/auth/register', userData);\r\n        return response.data;\r\n    },\r\n\r\n    logout: () => {\r\n        localStorage.removeItem('token');\r\n        window.location.href = '/login';\r\n    },\r\n\r\n    getCurrentUser: async () => {\r\n        const response = await api.get('/auth/me'); // Based on auth.py\r\n        return response.data;\r\n    },\r\n\r\n    isAuthenticated: () => {\r\n        return !!localStorage.getItem('token');\r\n    }\r\n};\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAevB,OAAO,MAAMC,WAAW,GAAG;EACvBC,KAAK,EAAE,MAAAA,CAAOC,KAAa,EAAEC,QAAgB,KAAK;IAC9C,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;IACpCD,MAAM,CAACE,MAAM,CAAC,UAAU,EAAEJ,KAAK,CAAC;IAChCE,MAAM,CAACE,MAAM,CAAC,UAAU,EAAEH,QAAQ,CAAC;;IAEnC;IACA,MAAMI,QAAQ,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,aAAa,EAAEJ,MAAM,EAAE;MACnDK,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IAEF,IAAIF,QAAQ,CAACG,IAAI,CAACC,YAAY,EAAE;MAC5BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,QAAQ,CAACG,IAAI,CAACC,YAAY,CAAC;IAC7D;IACA,OAAOJ,QAAQ,CAACG,IAAI;EACxB,CAAC;EAEDI,QAAQ,EAAE,MAAOC,QAAsB,IAAK;IACxC,MAAMR,QAAQ,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,gBAAgB,EAAEO,QAAQ,CAAC;IAC3D,OAAOR,QAAQ,CAACG,IAAI;EACxB,CAAC;EAEDM,MAAM,EAAEA,CAAA,KAAM;IACVJ,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC;IAChCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;EACnC,CAAC;EAEDC,cAAc,EAAE,MAAAA,CAAA,KAAY;IACxB,MAAMd,QAAQ,GAAG,MAAMR,GAAG,CAACuB,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;IAC5C,OAAOf,QAAQ,CAACG,IAAI;EACxB,CAAC;EAEDa,eAAe,EAAEA,CAAA,KAAM;IACnB,OAAO,CAAC,CAACX,YAAY,CAACY,OAAO,CAAC,OAAO,CAAC;EAC1C;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}