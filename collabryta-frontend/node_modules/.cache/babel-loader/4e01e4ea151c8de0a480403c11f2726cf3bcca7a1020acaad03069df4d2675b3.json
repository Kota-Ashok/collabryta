{"ast":null,"code":"var _jsxFileName = \"D:\\\\Collabryta\\\\collabryta-frontend\\\\src\\\\context\\\\NotificationContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useState, useCallback, useRef } from 'react';\nimport { notificationService } from '../services/notificationService';\nimport NotificationToast from '../components/NotificationToast';\nimport { AnimatePresence } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationContext = /*#__PURE__*/createContext(undefined);\nexport const NotificationProvider = ({\n  children\n}) => {\n  _s();\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [toast, setToast] = useState(null);\n  const listeners = useRef({});\n  const wsRef = useRef(null);\n  const subscribe = useCallback((type, callback) => {\n    if (!listeners.current[type]) {\n      listeners.current[type] = [];\n    }\n    listeners.current[type].push(callback);\n    return () => {\n      listeners.current[type] = listeners.current[type].filter(cb => cb !== callback);\n    };\n  }, []);\n  const fetchNotifications = useCallback(async () => {\n    const token = localStorage.getItem('token');\n    if (!token) return;\n    try {\n      console.log('DEBUG: Fetching initial notifications...');\n      const data = await notificationService.getNotifications();\n      setNotifications(data);\n      setUnreadCount(data.filter(n => !n.is_read).length);\n    } catch (error) {\n      console.error('Failed to fetch notifications:', error);\n    }\n  }, []);\n  useEffect(() => {\n    fetchNotifications();\n  }, [fetchNotifications]);\n  const showToast = useCallback(notif => {\n    console.log('DEBUG: Showing toast for notification:', notif.title);\n    setToast(notif);\n    setTimeout(() => {\n      setToast(prev => (prev === null || prev === void 0 ? void 0 : prev.id) === notif.id ? null : prev);\n    }, 5050);\n  }, []);\n  const addNotification = useCallback(notification => {\n    console.log('DEBUG: Adding new notification to list:', notification);\n    setNotifications(prev => {\n      // Avoid duplicates\n      if (prev.find(n => n.id === notification.id)) return prev;\n      return [notification, ...prev];\n    });\n    if (!notification.is_read) {\n      setUnreadCount(prev => prev + 1);\n    }\n    showToast(notification);\n  }, [showToast]);\n  const markAsRead = async id => {\n    try {\n      await notificationService.markAsRead(id);\n      setNotifications(prev => prev.map(n => n.id === id ? {\n        ...n,\n        is_read: true\n      } : n));\n      setUnreadCount(prev => Math.max(0, prev - 1));\n    } catch (error) {\n      console.error('Failed to mark notification as read:', error);\n    }\n  };\n  const markAllAsRead = async () => {\n    try {\n      await notificationService.markAllAsRead();\n      setNotifications(prev => prev.map(n => ({\n        ...n,\n        is_read: true\n      })));\n      setUnreadCount(0);\n    } catch (error) {\n      console.error('Failed to mark all as read:', error);\n    }\n  };\n  useEffect(() => {\n    let timer;\n    const connect = () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        // If no token, wait 3s and check again\n        timer = setTimeout(connect, 3000);\n        return;\n      }\n      if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n        return;\n      }\n      console.log('DEBUG: Connecting to WebSocket...');\n      const wsUrl = `ws://localhost:8000/api/v1/ws?token=${token}`;\n      const ws = new WebSocket(wsUrl);\n      wsRef.current = ws;\n      ws.onopen = () => {\n        console.log('DEBUG: WebSocket Connected âœ…');\n        // Refresh list on connect to ensure we have latest\n        fetchNotifications();\n      };\n      ws.onmessage = event => {\n        try {\n          const message = JSON.parse(event.data);\n          console.log('DEBUG: WS Message received:', message);\n          if (message.type && listeners.current[message.type]) {\n            listeners.current[message.type].forEach(cb => cb(message.data));\n          }\n          if (message.type === 'notification') {\n            addNotification(message.data);\n          }\n        } catch (err) {\n          console.error('Error parsing WS message:', err);\n        }\n      };\n      ws.onclose = event => {\n        console.log(`DEBUG: WebSocket Disconnected (Code: ${event.code}), retrying in 5s... ðŸ”„`);\n        wsRef.current = null;\n        timer = setTimeout(connect, 5000);\n      };\n      ws.onerror = err => {\n        console.error('DEBUG: WebSocket Error:', err);\n      };\n    };\n    connect();\n    return () => {\n      clearTimeout(timer);\n      if (wsRef.current) {\n        wsRef.current.close();\n        wsRef.current = null;\n      }\n    };\n  }, [addNotification, fetchNotifications]);\n  return /*#__PURE__*/_jsxDEV(NotificationContext.Provider, {\n    value: {\n      notifications,\n      unreadCount,\n      addNotification,\n      markAsRead,\n      markAllAsRead,\n      subscribe\n    },\n    children: [children, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-6 right-6 z-[9999]\",\n      children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        mode: \"sync\",\n        children: toast && /*#__PURE__*/_jsxDEV(NotificationToast, {\n          notification: toast,\n          onClose: () => setToast(null)\n        }, toast.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 9\n  }, this);\n};\n_s(NotificationProvider, \"zPP99B9s8cZaKIJQKQ7thc4MxLU=\");\n_c = NotificationProvider;\nexport const useNotifications = () => {\n  _s2();\n  const context = useContext(NotificationContext);\n  if (!context) throw new Error('useNotifications must be used within a NotificationProvider');\n  return context;\n};\n_s2(useNotifications, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"NotificationProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","useCallback","useRef","notificationService","NotificationToast","AnimatePresence","jsxDEV","_jsxDEV","NotificationContext","undefined","NotificationProvider","children","_s","notifications","setNotifications","unreadCount","setUnreadCount","toast","setToast","listeners","wsRef","subscribe","type","callback","current","push","filter","cb","fetchNotifications","token","localStorage","getItem","console","log","data","getNotifications","n","is_read","length","error","showToast","notif","title","setTimeout","prev","id","addNotification","notification","find","markAsRead","map","Math","max","markAllAsRead","timer","connect","readyState","WebSocket","OPEN","wsUrl","ws","onopen","onmessage","event","message","JSON","parse","forEach","err","onclose","code","onerror","clearTimeout","close","Provider","value","className","mode","onClose","fileName","_jsxFileName","lineNumber","columnNumber","_c","useNotifications","_s2","context","Error","$RefreshReg$"],"sources":["D:/Collabryta/collabryta-frontend/src/context/NotificationContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState, useCallback, useRef } from 'react';\r\nimport { notificationService, Notification } from '../services/notificationService';\r\nimport NotificationToast from '../components/NotificationToast';\r\nimport { AnimatePresence } from 'framer-motion';\r\n\r\ninterface NotificationContextType {\r\n    notifications: Notification[];\r\n    unreadCount: number;\r\n    addNotification: (notification: Notification) => void;\r\n    markAsRead: (id: number) => Promise<void>;\r\n    markAllAsRead: () => Promise<void>;\r\n    subscribe: (type: string, callback: (data: any) => void) => () => void;\r\n}\r\n\r\nconst NotificationContext = createContext<NotificationContextType | undefined>(undefined);\r\n\r\nexport const NotificationProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const [notifications, setNotifications] = useState<Notification[]>([]);\r\n    const [unreadCount, setUnreadCount] = useState(0);\r\n    const [toast, setToast] = useState<Notification | null>(null);\r\n    const listeners = useRef<{ [type: string]: ((data: any) => void)[] }>({});\r\n    const wsRef = useRef<WebSocket | null>(null);\r\n\r\n    const subscribe = useCallback((type: string, callback: (data: any) => void) => {\r\n        if (!listeners.current[type]) {\r\n            listeners.current[type] = [];\r\n        }\r\n        listeners.current[type].push(callback);\r\n        return () => {\r\n            listeners.current[type] = listeners.current[type].filter(cb => cb !== callback);\r\n        };\r\n    }, []);\r\n\r\n    const fetchNotifications = useCallback(async () => {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) return;\r\n        try {\r\n            console.log('DEBUG: Fetching initial notifications...');\r\n            const data = await notificationService.getNotifications();\r\n            setNotifications(data);\r\n            setUnreadCount(data.filter(n => !n.is_read).length);\r\n        } catch (error) {\r\n            console.error('Failed to fetch notifications:', error);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchNotifications();\r\n    }, [fetchNotifications]);\r\n\r\n    const showToast = useCallback((notif: Notification) => {\r\n        console.log('DEBUG: Showing toast for notification:', notif.title);\r\n        setToast(notif);\r\n        setTimeout(() => {\r\n            setToast(prev => prev?.id === notif.id ? null : prev);\r\n        }, 5050);\r\n    }, []);\r\n\r\n    const addNotification = useCallback((notification: Notification) => {\r\n        console.log('DEBUG: Adding new notification to list:', notification);\r\n        setNotifications(prev => {\r\n            // Avoid duplicates\r\n            if (prev.find(n => n.id === notification.id)) return prev;\r\n            return [notification, ...prev];\r\n        });\r\n        if (!notification.is_read) {\r\n            setUnreadCount(prev => prev + 1);\r\n        }\r\n        showToast(notification);\r\n    }, [showToast]);\r\n\r\n    const markAsRead = async (id: number) => {\r\n        try {\r\n            await notificationService.markAsRead(id);\r\n            setNotifications(prev => prev.map(n => n.id === id ? { ...n, is_read: true } : n));\r\n            setUnreadCount(prev => Math.max(0, prev - 1));\r\n        } catch (error) {\r\n            console.error('Failed to mark notification as read:', error);\r\n        }\r\n    };\r\n\r\n    const markAllAsRead = async () => {\r\n        try {\r\n            await notificationService.markAllAsRead();\r\n            setNotifications(prev => prev.map(n => ({ ...n, is_read: true })));\r\n            setUnreadCount(0);\r\n        } catch (error) {\r\n            console.error('Failed to mark all as read:', error);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        let timer: any;\r\n        const connect = () => {\r\n            const token = localStorage.getItem('token');\r\n            if (!token) {\r\n                // If no token, wait 3s and check again\r\n                timer = setTimeout(connect, 3000);\r\n                return;\r\n            }\r\n\r\n            if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\r\n                return;\r\n            }\r\n\r\n            console.log('DEBUG: Connecting to WebSocket...');\r\n            const wsUrl = `ws://localhost:8000/api/v1/ws?token=${token}`;\r\n            const ws = new WebSocket(wsUrl);\r\n            wsRef.current = ws;\r\n\r\n            ws.onopen = () => {\r\n                console.log('DEBUG: WebSocket Connected âœ…');\r\n                // Refresh list on connect to ensure we have latest\r\n                fetchNotifications();\r\n            };\r\n\r\n            ws.onmessage = (event) => {\r\n                try {\r\n                    const message = JSON.parse(event.data);\r\n                    console.log('DEBUG: WS Message received:', message);\r\n\r\n                    if (message.type && listeners.current[message.type]) {\r\n                        listeners.current[message.type].forEach(cb => cb(message.data));\r\n                    }\r\n\r\n                    if (message.type === 'notification') {\r\n                        addNotification(message.data);\r\n                    }\r\n                } catch (err) {\r\n                    console.error('Error parsing WS message:', err);\r\n                }\r\n            };\r\n\r\n            ws.onclose = (event) => {\r\n                console.log(`DEBUG: WebSocket Disconnected (Code: ${event.code}), retrying in 5s... ðŸ”„`);\r\n                wsRef.current = null;\r\n                timer = setTimeout(connect, 5000);\r\n            };\r\n\r\n            ws.onerror = (err) => {\r\n                console.error('DEBUG: WebSocket Error:', err);\r\n            };\r\n        };\r\n\r\n        connect();\r\n\r\n        return () => {\r\n            clearTimeout(timer);\r\n            if (wsRef.current) {\r\n                wsRef.current.close();\r\n                wsRef.current = null;\r\n            }\r\n        };\r\n    }, [addNotification, fetchNotifications]);\r\n\r\n    return (\r\n        <NotificationContext.Provider value={{ notifications, unreadCount, addNotification, markAsRead, markAllAsRead, subscribe }}>\r\n            {children}\r\n            <div className=\"fixed bottom-6 right-6 z-[9999]\">\r\n                <AnimatePresence mode=\"sync\">\r\n                    {toast && (\r\n                        <NotificationToast\r\n                            key={toast.id}\r\n                            notification={toast}\r\n                            onClose={() => setToast(null)}\r\n                        />\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n        </NotificationContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useNotifications = () => {\r\n    const context = useContext(NotificationContext);\r\n    if (!context) throw new Error('useNotifications must be used within a NotificationProvider');\r\n    return context;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}