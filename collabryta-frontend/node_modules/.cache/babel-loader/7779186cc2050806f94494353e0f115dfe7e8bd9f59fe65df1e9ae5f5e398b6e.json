{"ast":null,"code":"var _jsxFileName = \"D:\\\\Collabryta\\\\collabryta-frontend\\\\src\\\\pages\\\\Tasks\\\\TasksPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Plus, Calendar, User as UserIcon, CheckCircle, Clock, LayoutGrid, List as ListIcon, Search, ArrowUpRight, Flag, Trash2 } from \"lucide-react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { taskService } from \"../../services/taskService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TasksPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [tasks, setTasks] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [viewMode, setViewMode] = useState(\"grid\");\n  const [filterStatus, setFilterStatus] = useState(\"All\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchData();\n  }, [filterStatus]); // Refresh when filter changes\n\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const [tasksData, statsData] = await Promise.all([taskService.getTasks({\n        status: filterStatus === 'All' ? undefined : filterStatus\n      }), taskService.getStats()]);\n      setTasks(tasksData);\n      setStats(statsData);\n    } catch (error) {\n      console.error(\"Failed to load tasks\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleQuickStatusUpdate = async (e, task) => {\n    e.stopPropagation();\n    const nextStatus = task.status === \"Todo\" ? \"In Progress\" : task.status === \"In Progress\" ? \"Completed\" : \"Todo\";\n    try {\n      // Optimistic\n      setTasks(prev => prev.map(t => t.id === task.id ? {\n        ...t,\n        status: nextStatus\n      } : t));\n      await taskService.updateTask(task.id, {\n        status: nextStatus\n      });\n      // Refresh stats silently?\n    } catch (error) {\n      // revert\n      console.error(\"Update failed\");\n    }\n  };\n  const handleDelete = async (e, id) => {\n    e.stopPropagation();\n    if (!window.confirm(\"Are you sure?\")) return;\n    try {\n      await taskService.deleteTask(id);\n      setTasks(prev => prev.filter(t => t.id !== id));\n    } catch (err) {\n      console.error(\"Delete failed\", err);\n    }\n  };\n\n  // Derived filtering for local search\n  const displayedTasks = tasks.filter(t => t.title.toLowerCase().includes(searchQuery.toLowerCase()));\n  const getPriorityColor = p => {\n    switch (p) {\n      case \"Urgent\":\n        return \"text-red-600 bg-red-50 border-red-100\";\n      case \"High\":\n        return \"text-orange-600 bg-orange-50 border-orange-100\";\n      case \"Normal\":\n        return \"text-blue-600 bg-blue-50 border-blue-100\";\n      default:\n        return \"text-slate-500 bg-slate-50 border-slate-100\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-slate-50/50 p-6 md:p-8 animate-in fade-in duration-500\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto mb-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:items-center justify-between gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-slate-900 tracking-tight\",\n            children: \"Tasks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-slate-500 mt-1\",\n            children: \"Manage deliverables and track progress.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/tasks/new\"),\n          className: \"flex items-center gap-2 bg-slate-900 hover:bg-slate-800 text-white px-5 py-2.5 rounded-xl font-semibold shadow-lg shadow-slate-200 transition-all active:scale-95\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), \" Create Task\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-slate-500 text-xs font-bold uppercase tracking-wider\",\n            children: \"Total Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LayoutGrid, {\n            size: 16,\n            className: \"text-slate-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-slate-800 mt-2\",\n          children: (stats === null || stats === void 0 ? void 0 : stats.total) || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-between border-l-4 border-l-blue-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-blue-600 text-xs font-bold uppercase tracking-wider\",\n            children: \"Upcoming\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Clock, {\n            size: 16,\n            className: \"text-blue-200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-slate-800 mt-2\",\n          children: (stats === null || stats === void 0 ? void 0 : stats.upcoming) || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-between border-l-4 border-l-orange-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-orange-600 text-xs font-bold uppercase tracking-wider\",\n            children: \"In Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ArrowUpRight, {\n            size: 16,\n            className: \"text-orange-200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-slate-800 mt-2\",\n          children: (stats === null || stats === void 0 ? void 0 : stats.in_progress) || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-between border-l-4 border-l-green-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 text-xs font-bold uppercase tracking-wider\",\n            children: \"Completed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CheckCircle, {\n            size: 16,\n            className: \"text-green-200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-slate-800 mt-2\",\n          children: (stats === null || stats === void 0 ? void 0 : stats.completed) || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto mb-6 flex flex-col md:flex-row items-center gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-1 rounded-xl border border-slate-200 shadow-sm flex items-center\",\n        children: [\"All\", \"Todo\", \"In Progress\", \"Completed\"].map(status => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterStatus(status),\n          className: `px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${filterStatus === status ? 'bg-slate-100 text-slate-900 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`,\n          children: status\n        }, status, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          size: 16,\n          className: \"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search tasks...\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value),\n          className: \"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-400 transition-all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-1 rounded-xl border border-slate-200 shadow-sm flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode(\"grid\"),\n          className: `p-2 rounded-lg transition-all ${viewMode === 'grid' ? 'bg-slate-100 text-slate-900' : 'text-slate-400 hover:text-slate-600'}`,\n          children: /*#__PURE__*/_jsxDEV(LayoutGrid, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode(\"list\"),\n          className: `p-2 rounded-lg transition-all ${viewMode === 'list' ? 'bg-slate-100 text-slate-900' : 'text-slate-400 hover:text-slate-600'}`,\n          children: /*#__PURE__*/_jsxDEV(ListIcon, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `max-w-7xl mx-auto ${viewMode === 'grid' ? 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6' : 'flex flex-col space-y-3'}`,\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full py-20 text-center text-slate-400\",\n        children: \"Loading tasks...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this) : displayedTasks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full py-20 flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-200 rounded-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: \"No tasks found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterStatus(\"All\"),\n          className: \"text-sm text-blue-600 hover:underline mt-2\",\n          children: \"Clear filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this) : displayedTasks.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => navigate(`/tasks/edit/${task.id}`) // Navigate locally OR trigger modal\n        ,\n        className: `group bg-white border border-slate-200 hover:border-blue-200 hover:shadow-md transition-all rounded-2xl p-5 cursor-pointer relative overflow-hidden ${task.is_overdue ? 'ring-1 ring-red-100' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `absolute top-0 left-0 bottom-0 w-1 ${task.status === 'Completed' ? 'bg-green-500' : task.status === 'In Progress' ? 'bg-orange-500' : 'bg-blue-500'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start mb-3 pl-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: `font-bold text-slate-800 leading-tight ${viewMode === 'list' ? 'text-base' : 'text-lg'}`,\n              children: task.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-slate-500 truncate max-w-[200px]\",\n              children: task.description || \"No description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1 opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => handleDelete(e, task.id),\n              className: \"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between pl-2 mt-4 pt-3 border-t border-slate-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [task.assigned_to_user ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              title: `Assigned to ${task.assigned_to_user.name}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-[10px] font-bold\",\n                children: task.assigned_to_user.name.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 23\n              }, this), viewMode === 'list' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-slate-600\",\n                children: task.assigned_to_user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-slate-400\",\n              children: /*#__PURE__*/_jsxDEV(UserIcon, {\n                size: 12\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-[10px] font-bold px-2 py-0.5 rounded-full border ${getPriorityColor(task.priority)} flex items-center gap-1`,\n              children: [/*#__PURE__*/_jsxDEV(Flag, {\n                size: 8\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this), \" \", task.priority]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [task.due_date && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-xs font-medium flex items-center gap-1.5 ${task.is_overdue ? 'text-red-500' : 'text-slate-400'}`,\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                size: 12\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 23\n              }, this), new Date(task.due_date).toLocaleDateString(undefined, {\n                month: 'short',\n                day: 'numeric'\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 21\n            }, this), task.status !== 'Completed' && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => handleQuickStatusUpdate(e, task),\n              className: \"p-1.5 bg-slate-50 hover:bg-blue-600 hover:text-white text-slate-400 rounded-lg transition-all\",\n              title: \"Advance Status\",\n              children: /*#__PURE__*/_jsxDEV(ArrowUpRight, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 15\n        }, this)]\n      }, task.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(TasksPage, \"fTYJZJMBIAWxd5U3fQJnq/OK8Qc=\", false, function () {\n  return [useNavigate];\n});\n_c = TasksPage;\nexport default TasksPage;\nvar _c;\n$RefreshReg$(_c, \"TasksPage\");","map":{"version":3,"names":["React","useState","useEffect","Plus","Calendar","User","UserIcon","CheckCircle","Clock","LayoutGrid","List","ListIcon","Search","ArrowUpRight","Flag","Trash2","useNavigate","taskService","jsxDEV","_jsxDEV","TasksPage","_s","navigate","tasks","setTasks","stats","setStats","viewMode","setViewMode","filterStatus","setFilterStatus","searchQuery","setSearchQuery","loading","setLoading","fetchData","tasksData","statsData","Promise","all","getTasks","status","undefined","getStats","error","console","handleQuickStatusUpdate","e","task","stopPropagation","nextStatus","prev","map","t","id","updateTask","handleDelete","window","confirm","deleteTask","filter","err","displayedTasks","title","toLowerCase","includes","getPriorityColor","p","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","total","upcoming","in_progress","completed","type","placeholder","value","onChange","target","length","is_overdue","description","assigned_to_user","name","charAt","priority","due_date","Date","toLocaleDateString","month","day","_c","$RefreshReg$"],"sources":["D:/Collabryta/collabryta-frontend/src/pages/Tasks/TasksPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Plus,\r\n  Calendar,\r\n  User as UserIcon,\r\n  CheckCircle,\r\n  Clock,\r\n  AlertCircle,\r\n  LayoutGrid,\r\n  List as ListIcon,\r\n  Search,\r\n  Filter,\r\n  MoreHorizontal,\r\n  ArrowUpRight,\r\n  Flag,\r\n  Trash2\r\n} from \"lucide-react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { taskService, Task } from \"../../services/taskService\";\r\n\r\nconst TasksPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [tasks, setTasks] = useState<Task[]>([]);\r\n  const [stats, setStats] = useState<any>(null);\r\n  const [viewMode, setViewMode] = useState<\"grid\" | \"list\">(\"grid\");\r\n  const [filterStatus, setFilterStatus] = useState(\"All\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [filterStatus]); // Refresh when filter changes\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [tasksData, statsData] = await Promise.all([\r\n        taskService.getTasks({ status: filterStatus === 'All' ? undefined : filterStatus }),\r\n        taskService.getStats()\r\n      ]);\r\n      setTasks(tasksData);\r\n      setStats(statsData);\r\n    } catch (error) {\r\n      console.error(\"Failed to load tasks\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleQuickStatusUpdate = async (e: React.MouseEvent, task: Task) => {\r\n    e.stopPropagation();\r\n    const nextStatus = task.status === \"Todo\" ? \"In Progress\" : task.status === \"In Progress\" ? \"Completed\" : \"Todo\";\r\n    try {\r\n      // Optimistic\r\n      setTasks(prev => prev.map(t => t.id === task.id ? { ...t, status: nextStatus as any } : t));\r\n      await taskService.updateTask(task.id, { status: nextStatus });\r\n      // Refresh stats silently?\r\n    } catch (error) {\r\n      // revert\r\n      console.error(\"Update failed\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (e: React.MouseEvent, id: number) => {\r\n    e.stopPropagation();\r\n    if (!window.confirm(\"Are you sure?\")) return;\r\n    try {\r\n      await taskService.deleteTask(id);\r\n      setTasks(prev => prev.filter(t => t.id !== id));\r\n    } catch (err) {\r\n      console.error(\"Delete failed\", err);\r\n    }\r\n  };\r\n\r\n  // Derived filtering for local search\r\n  const displayedTasks = tasks.filter(t => t.title.toLowerCase().includes(searchQuery.toLowerCase()));\r\n\r\n  const getPriorityColor = (p: string) => {\r\n    switch (p) {\r\n      case \"Urgent\": return \"text-red-600 bg-red-50 border-red-100\";\r\n      case \"High\": return \"text-orange-600 bg-orange-50 border-orange-100\";\r\n      case \"Normal\": return \"text-blue-600 bg-blue-50 border-blue-100\";\r\n      default: return \"text-slate-500 bg-slate-50 border-slate-100\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50/50 p-6 md:p-8 animate-in fade-in duration-500\">\r\n      {/* Header */}\r\n      <div className=\"max-w-7xl mx-auto mb-8\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">Tasks</h1>\r\n            <p className=\"text-slate-500 mt-1\">Manage deliverables and track progress.</p>\r\n          </div>\r\n          <button\r\n            onClick={() => navigate(\"/tasks/new\")}\r\n            className=\"flex items-center gap-2 bg-slate-900 hover:bg-slate-800 text-white px-5 py-2.5 rounded-xl font-semibold shadow-lg shadow-slate-200 transition-all active:scale-95\"\r\n          >\r\n            <Plus size={18} /> Create Task\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\r\n        <div className=\"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-between\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <span className=\"text-slate-500 text-xs font-bold uppercase tracking-wider\">Total Active</span>\r\n            <LayoutGrid size={16} className=\"text-slate-300\" />\r\n          </div>\r\n          <p className=\"text-3xl font-bold text-slate-800 mt-2\">{stats?.total || 0}</p>\r\n        </div>\r\n        <div className=\"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-between border-l-4 border-l-blue-500\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <span className=\"text-blue-600 text-xs font-bold uppercase tracking-wider\">Upcoming</span>\r\n            <Clock size={16} className=\"text-blue-200\" />\r\n          </div>\r\n          <p className=\"text-3xl font-bold text-slate-800 mt-2\">{stats?.upcoming || 0}</p>\r\n        </div>\r\n        <div className=\"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-between border-l-4 border-l-orange-500\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <span className=\"text-orange-600 text-xs font-bold uppercase tracking-wider\">In Progress</span>\r\n            <ArrowUpRight size={16} className=\"text-orange-200\" />\r\n          </div>\r\n          <p className=\"text-3xl font-bold text-slate-800 mt-2\">{stats?.in_progress || 0}</p>\r\n        </div>\r\n        <div className=\"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-between border-l-4 border-l-green-500\">\r\n          <div className=\"flex justify-between items-start\">\r\n            <span className=\"text-green-600 text-xs font-bold uppercase tracking-wider\">Completed</span>\r\n            <CheckCircle size={16} className=\"text-green-200\" />\r\n          </div>\r\n          <p className=\"text-3xl font-bold text-slate-800 mt-2\">{stats?.completed || 0}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters Toolbar */}\r\n      <div className=\"max-w-7xl mx-auto mb-6 flex flex-col md:flex-row items-center gap-4\">\r\n        {/* Status Tabs */}\r\n        <div className=\"bg-white p-1 rounded-xl border border-slate-200 shadow-sm flex items-center\">\r\n          {[\"All\", \"Todo\", \"In Progress\", \"Completed\"].map(status => (\r\n            <button\r\n              key={status}\r\n              onClick={() => setFilterStatus(status)}\r\n              className={`px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${filterStatus === status ? 'bg-slate-100 text-slate-900 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}\r\n            >\r\n              {status}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Search */}\r\n        <div className=\"relative flex-1\">\r\n          <Search size={16} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search tasks...\"\r\n            value={searchQuery}\r\n            onChange={e => setSearchQuery(e.target.value)}\r\n            className=\"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-400 transition-all\"\r\n          />\r\n        </div>\r\n\r\n        {/* View Toggle */}\r\n        <div className=\"bg-white p-1 rounded-xl border border-slate-200 shadow-sm flex items-center\">\r\n          <button onClick={() => setViewMode(\"grid\")} className={`p-2 rounded-lg transition-all ${viewMode === 'grid' ? 'bg-slate-100 text-slate-900' : 'text-slate-400 hover:text-slate-600'}`}>\r\n            <LayoutGrid size={18} />\r\n          </button>\r\n          <button onClick={() => setViewMode(\"list\")} className={`p-2 rounded-lg transition-all ${viewMode === 'list' ? 'bg-slate-100 text-slate-900' : 'text-slate-400 hover:text-slate-600'}`}>\r\n            <ListIcon size={18} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tasks Grid/List */}\r\n      <div className={`max-w-7xl mx-auto ${viewMode === 'grid' ? 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6' : 'flex flex-col space-y-3'}`}>\r\n        {loading ? (\r\n          <div className=\"col-span-full py-20 text-center text-slate-400\">Loading tasks...</div>\r\n        ) : displayedTasks.length === 0 ? (\r\n          <div className=\"col-span-full py-20 flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-200 rounded-2xl\">\r\n            <p className=\"font-medium\">No tasks found</p>\r\n            <button onClick={() => setFilterStatus(\"All\")} className=\"text-sm text-blue-600 hover:underline mt-2\">Clear filters</button>\r\n          </div>\r\n        ) : (\r\n          displayedTasks.map(task => (\r\n            <div\r\n              key={task.id}\r\n              onClick={() => navigate(`/tasks/edit/${task.id}`)} // Navigate locally OR trigger modal\r\n              className={`group bg-white border border-slate-200 hover:border-blue-200 hover:shadow-md transition-all rounded-2xl p-5 cursor-pointer relative overflow-hidden ${task.is_overdue ? 'ring-1 ring-red-100' : ''}`}\r\n            >\r\n              {/* Status Stripe */}\r\n              <div className={`absolute top-0 left-0 bottom-0 w-1 ${task.status === 'Completed' ? 'bg-green-500' : task.status === 'In Progress' ? 'bg-orange-500' : 'bg-blue-500'}`}></div>\r\n\r\n              <div className=\"flex justify-between items-start mb-3 pl-2\">\r\n                <div className=\"flex flex-col gap-1\">\r\n                  <h3 className={`font-bold text-slate-800 leading-tight ${viewMode === 'list' ? 'text-base' : 'text-lg'}`}>{task.title}</h3>\r\n                  <span className=\"text-xs text-slate-500 truncate max-w-[200px]\">{task.description || \"No description\"}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-1 opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                  <button onClick={(e) => handleDelete(e, task.id)} className=\"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg\">\r\n                    <Trash2 size={16} />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between pl-2 mt-4 pt-3 border-t border-slate-50\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  {/* Assignee */}\r\n                  {task.assigned_to_user ? (\r\n                    <div className=\"flex items-center gap-2\" title={`Assigned to ${task.assigned_to_user.name}`}>\r\n                      <div className=\"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-[10px] font-bold\">\r\n                        {task.assigned_to_user.name.charAt(0)}\r\n                      </div>\r\n                      {viewMode === 'list' && <span className=\"text-sm text-slate-600\">{task.assigned_to_user.name}</span>}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-slate-400\">\r\n                      <UserIcon size={12} />\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Priority Badge */}\r\n                  <span className={`text-[10px] font-bold px-2 py-0.5 rounded-full border ${getPriorityColor(task.priority)} flex items-center gap-1`}>\r\n                    <Flag size={8} /> {task.priority}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                  {task.due_date && (\r\n                    <span className={`text-xs font-medium flex items-center gap-1.5 ${task.is_overdue ? 'text-red-500' : 'text-slate-400'}`}>\r\n                      <Calendar size={12} />\r\n                      {new Date(task.due_date).toLocaleDateString(undefined, { month: 'short', day: 'numeric' })}\r\n                    </span>\r\n                  )}\r\n\r\n                  {/* Action Button */}\r\n                  {task.status !== 'Completed' && (\r\n                    <button\r\n                      onClick={(e) => handleQuickStatusUpdate(e, task)}\r\n                      className=\"p-1.5 bg-slate-50 hover:bg-blue-600 hover:text-white text-slate-400 rounded-lg transition-all\"\r\n                      title=\"Advance Status\"\r\n                    >\r\n                      <ArrowUpRight size={14} />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TasksPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}