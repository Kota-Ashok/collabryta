{"ast":null,"code":"import api from'./api';export const messageService={getChats:async()=>{const response=await api.get('/messages/conversations');return response.data;},createChat:async function(participantIds,name){let isGroup=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const response=await api.post('/messages/conversations',{participant_ids:participantIds,name,is_group:isGroup});return response.data;},getMessages:async chatId=>{const response=await api.get(\"/messages/\".concat(chatId));return response.data;},sendMessage:async(chatId,content)=>{const response=await api.post(\"/messages/\".concat(chatId),{content});return response.data;},markAsRead:async chatId=>{await api.put(\"/messages/\".concat(chatId,\"/read\"));}};","map":{"version":3,"names":["api","messageService","getChats","response","get","data","createChat","participantIds","name","isGroup","arguments","length","undefined","post","participant_ids","is_group","getMessages","chatId","concat","sendMessage","content","markAsRead","put"],"sources":["D:/Collabryta/collabryta-frontend/src/services/messageService.ts"],"sourcesContent":["import api from './api';\r\n\r\nexport interface Chat {\r\n    id: number;\r\n    name: string;\r\n    is_group: boolean;\r\n    last_message?: string;\r\n    last_message_time?: string;\r\n    status?: 'online' | 'offline' | 'group';\r\n    other_user_id?: number | null;\r\n    unread_count?: number;\r\n}\r\n\r\nexport interface MessageSender {\r\n    id: number;\r\n    name: string;\r\n    avatar?: string;\r\n}\r\n\r\nexport interface Message {\r\n    id: number;\r\n    chat_id: number;\r\n    sender_id: number;\r\n    sender?: MessageSender;\r\n    content: string;\r\n    timestamp: string;\r\n    is_read: boolean;\r\n}\r\n\r\nexport const messageService = {\r\n    getChats: async (): Promise<Chat[]> => {\r\n        const response = await api.get('/messages/conversations');\r\n        return response.data;\r\n    },\r\n\r\n    createChat: async (participantIds: number[], name?: string, isGroup: boolean = false): Promise<Chat> => {\r\n        const response = await api.post('/messages/conversations', {\r\n            participant_ids: participantIds,\r\n            name,\r\n            is_group: isGroup\r\n        });\r\n        return response.data;\r\n    },\r\n\r\n    getMessages: async (chatId: number): Promise<Message[]> => {\r\n        const response = await api.get(`/messages/${chatId}`);\r\n        return response.data;\r\n    },\r\n\r\n    sendMessage: async (chatId: number, content: string): Promise<Message> => {\r\n        const response = await api.post(`/messages/${chatId}`, {\r\n            content\r\n        });\r\n        return response.data;\r\n    },\r\n\r\n    markAsRead: async (chatId: number): Promise<void> => {\r\n        await api.put(`/messages/${chatId}/read`);\r\n    }\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,GAAG,KAAM,OAAO,CA6BvB,MAAO,MAAM,CAAAC,cAAc,CAAG,CAC1BC,QAAQ,CAAE,KAAAA,CAAA,GAA6B,CACnC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAH,GAAG,CAACI,GAAG,CAAC,yBAAyB,CAAC,CACzD,MAAO,CAAAD,QAAQ,CAACE,IAAI,CACxB,CAAC,CAEDC,UAAU,CAAE,cAAAA,CAAOC,cAAwB,CAAEC,IAAa,CAA8C,IAA5C,CAAAC,OAAgB,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CAChF,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAH,GAAG,CAACa,IAAI,CAAC,yBAAyB,CAAE,CACvDC,eAAe,CAAEP,cAAc,CAC/BC,IAAI,CACJO,QAAQ,CAAEN,OACd,CAAC,CAAC,CACF,MAAO,CAAAN,QAAQ,CAACE,IAAI,CACxB,CAAC,CAEDW,WAAW,CAAE,KAAO,CAAAC,MAAc,EAAyB,CACvD,KAAM,CAAAd,QAAQ,CAAG,KAAM,CAAAH,GAAG,CAACI,GAAG,cAAAc,MAAA,CAAcD,MAAM,CAAE,CAAC,CACrD,MAAO,CAAAd,QAAQ,CAACE,IAAI,CACxB,CAAC,CAEDc,WAAW,CAAE,KAAAA,CAAOF,MAAc,CAAEG,OAAe,GAAuB,CACtE,KAAM,CAAAjB,QAAQ,CAAG,KAAM,CAAAH,GAAG,CAACa,IAAI,cAAAK,MAAA,CAAcD,MAAM,EAAI,CACnDG,OACJ,CAAC,CAAC,CACF,MAAO,CAAAjB,QAAQ,CAACE,IAAI,CACxB,CAAC,CAEDgB,UAAU,CAAE,KAAO,CAAAJ,MAAc,EAAoB,CACjD,KAAM,CAAAjB,GAAG,CAACsB,GAAG,cAAAJ,MAAA,CAAcD,MAAM,SAAO,CAAC,CAC7C,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}