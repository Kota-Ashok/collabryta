{"ast":null,"code":"import api from'./api';export const authService={login:async(email,password)=>{const params=new URLSearchParams();params.append('username',email);params.append('password',password);// OAuth2PasswordRequestForm expects form data\nconst response=await api.post('/auth/login',params,{headers:{'Content-Type':'application/x-www-form-urlencoded'}});if(response.data.access_token){localStorage.setItem('token',response.data.access_token);}return response.data;},register:async userData=>{const{name,email,password}=userData;const response=await api.post('/users/',{email,password,name});return response.data;},logout:()=>{localStorage.removeItem('token');},getCurrentUser:async()=>{const response=await api.get('/users/me');return response.data;},isAuthenticated:()=>{return!!localStorage.getItem('token');},updateProfile:async profileData=>{const response=await api.put('/users/me',profileData);return response.data;}};","map":{"version":3,"names":["api","authService","login","email","password","params","URLSearchParams","append","response","post","headers","data","access_token","localStorage","setItem","register","userData","name","logout","removeItem","getCurrentUser","get","isAuthenticated","getItem","updateProfile","profileData","put"],"sources":["D:/Collabryta/collabryta-frontend/src/services/authService.ts"],"sourcesContent":["import api from './api';\r\n\r\nexport interface User {\r\n    id: number;\r\n    email: string;\r\n    name?: string;\r\n    role?: string;\r\n    avatar?: string;\r\n}\r\n\r\nexport const authService = {\r\n    login: async (email: string, password: string) => {\r\n        const params = new URLSearchParams();\r\n        params.append('username', email);\r\n        params.append('password', password);\r\n\r\n        // OAuth2PasswordRequestForm expects form data\r\n        const response = await api.post('/auth/login', params, {\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n        });\r\n        if (response.data.access_token) {\r\n            localStorage.setItem('token', response.data.access_token);\r\n        }\r\n        return response.data;\r\n    },\r\n\r\n    register: async (userData: any) => {\r\n        const { name, email, password } = userData;\r\n        const response = await api.post('/users/', {\r\n            email,\r\n            password,\r\n            name,\r\n        });\r\n        return response.data;\r\n    },\r\n\r\n    logout: () => {\r\n        localStorage.removeItem('token');\r\n    },\r\n\r\n    getCurrentUser: async () => {\r\n        const response = await api.get('/users/me');\r\n        return response.data;\r\n    },\r\n\r\n    isAuthenticated: () => {\r\n        return !!localStorage.getItem('token');\r\n    },\r\n\r\n    updateProfile: async (profileData: any) => {\r\n        const response = await api.put('/users/me', profileData);\r\n        return response.data;\r\n    }\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,GAAG,KAAM,OAAO,CAUvB,MAAO,MAAM,CAAAC,WAAW,CAAG,CACvBC,KAAK,CAAE,KAAAA,CAAOC,KAAa,CAAEC,QAAgB,GAAK,CAC9C,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,eAAe,CAAC,CAAC,CACpCD,MAAM,CAACE,MAAM,CAAC,UAAU,CAAEJ,KAAK,CAAC,CAChCE,MAAM,CAACE,MAAM,CAAC,UAAU,CAAEH,QAAQ,CAAC,CAEnC;AACA,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAR,GAAG,CAACS,IAAI,CAAC,aAAa,CAAEJ,MAAM,CAAE,CACnDK,OAAO,CAAE,CACL,cAAc,CAAE,mCACpB,CACJ,CAAC,CAAC,CACF,GAAIF,QAAQ,CAACG,IAAI,CAACC,YAAY,CAAE,CAC5BC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEN,QAAQ,CAACG,IAAI,CAACC,YAAY,CAAC,CAC7D,CACA,MAAO,CAAAJ,QAAQ,CAACG,IAAI,CACxB,CAAC,CAEDI,QAAQ,CAAE,KAAO,CAAAC,QAAa,EAAK,CAC/B,KAAM,CAAEC,IAAI,CAAEd,KAAK,CAAEC,QAAS,CAAC,CAAGY,QAAQ,CAC1C,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAR,GAAG,CAACS,IAAI,CAAC,SAAS,CAAE,CACvCN,KAAK,CACLC,QAAQ,CACRa,IACJ,CAAC,CAAC,CACF,MAAO,CAAAT,QAAQ,CAACG,IAAI,CACxB,CAAC,CAEDO,MAAM,CAAEA,CAAA,GAAM,CACVL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC,CACpC,CAAC,CAEDC,cAAc,CAAE,KAAAA,CAAA,GAAY,CACxB,KAAM,CAAAZ,QAAQ,CAAG,KAAM,CAAAR,GAAG,CAACqB,GAAG,CAAC,WAAW,CAAC,CAC3C,MAAO,CAAAb,QAAQ,CAACG,IAAI,CACxB,CAAC,CAEDW,eAAe,CAAEA,CAAA,GAAM,CACnB,MAAO,CAAC,CAACT,YAAY,CAACU,OAAO,CAAC,OAAO,CAAC,CAC1C,CAAC,CAEDC,aAAa,CAAE,KAAO,CAAAC,WAAgB,EAAK,CACvC,KAAM,CAAAjB,QAAQ,CAAG,KAAM,CAAAR,GAAG,CAAC0B,GAAG,CAAC,WAAW,CAAED,WAAW,CAAC,CACxD,MAAO,CAAAjB,QAAQ,CAACG,IAAI,CACxB,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}