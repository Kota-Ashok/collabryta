{"ast":null,"code":"import _objectSpread from\"D:/Collabryta/collabryta-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useState,useEffect,useCallback}from'react';import{notificationService}from'../services/notificationService';import{authService}from'../services/authService';import{Bell,AlertCircle,X,Shield,Zap}from'lucide-react';import{motion,AnimatePresence}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NotificationContext=/*#__PURE__*/createContext(undefined);export const NotificationProvider=_ref=>{let{children}=_ref;const[notifications,setNotifications]=useState([]);const[unreadCount,setUnreadCount]=useState(0);const[toast,setToast]=useState(null);const[user,setUser]=useState(null);const showToast=useCallback(function(title,message){let type=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'info';setToast({title,message,type});setTimeout(()=>setToast(null),6000);},[]);const fetchNotifications=useCallback(async function(){let showToastIfNew=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!authService.isAuthenticated())return;try{const data=await notificationService.getNotifications(0,50);if(showToastIfNew){setNotifications(prev=>{if(data.length>0&&prev.length>0){const latestNew=data[0];const alreadyKnown=prev.some(n=>n.id===latestNew.id);if(!alreadyKnown&&!latestNew.is_read){const content=latestNew.description||latestNew.content||latestNew.message||'';showToast(latestNew.title,content,latestNew.type||'info');}}return data;});}else{setNotifications(data);}const unread=data.filter(n=>!n.is_read).length;setUnreadCount(unread);}catch(err){console.error('[Notifications] Fetch Error:',err);}},[showToast]);const addNotification=useCallback(payload=>{const id=payload.id||Date.now();const content=payload.description||payload.content||payload.message||'';const newNotif={id,title:payload.title||'Notification',description:content,type:payload.type||'info',created_at:payload.created_at||new Date().toISOString(),is_read:false,user_id:(user===null||user===void 0?void 0:user.id)||0};setNotifications(prev=>{if(prev.some(n=>n.id===id))return prev;showToast(newNotif.title,content,newNotif.type);return[newNotif,...prev];});setUnreadCount(prev=>prev+1);},[showToast,user===null||user===void 0?void 0:user.id]);useEffect(()=>{const init=async()=>{if(authService.isAuthenticated()){try{const currentUser=await authService.getCurrentUser();setUser(currentUser);fetchNotifications();}catch(err){console.error('[Notifications] Init Error:',err);}}};if(authService.isAuthenticated()&&!user){init();}},[fetchNotifications,user]);// Fallback polling (every 2 minutes)\nuseEffect(()=>{const poll=setInterval(()=>{if(authService.isAuthenticated())fetchNotifications(true);},120000);return()=>clearInterval(poll);},[fetchNotifications]);const markAsRead=async id=>{try{await notificationService.markAsRead(id);setNotifications(prev=>prev.map(n=>n.id===id?_objectSpread(_objectSpread({},n),{},{is_read:true}):n));setUnreadCount(prev=>Math.max(0,prev-1));}catch(err){console.error('[Notifications] Mark Read Error:',err);}};const markAllAsRead=async()=>{try{await notificationService.markAllAsRead();setNotifications(prev=>prev.map(n=>_objectSpread(_objectSpread({},n),{},{is_read:true})));setUnreadCount(0);}catch(err){console.error('[Notifications] Mark All Read Error:',err);}};const getIconForToastType=type=>{switch(type){case'success':return/*#__PURE__*/_jsx(Shield,{size:20});case'error':return/*#__PURE__*/_jsx(AlertCircle,{size:20});case'warning':return/*#__PURE__*/_jsx(Zap,{size:20});default:return/*#__PURE__*/_jsx(Bell,{size:20});}};return/*#__PURE__*/_jsxs(NotificationContext.Provider,{value:{notifications,unreadCount,addNotification,markAsRead,markAllAsRead,refresh:fetchNotifications,showToast},children:[children,/*#__PURE__*/_jsx(AnimatePresence,{children:toast&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:100,y:20},animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:100,scale:0.9},transition:{type:\"spring\",stiffness:400,damping:30},className:\"fixed top-24 right-6 z-[9999] w-full max-w-[380px]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative group overflow-hidden rounded-2xl border border-white/20 bg-white/80 backdrop-blur-xl shadow-[0_20px_50px_rgba(0,0,0,0.1)] p-5 flex items-start gap-4 transition-all hover:shadow-[0_25px_60px_rgba(0,0,0,0.15)]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-1.5 h-full \".concat(toast.type==='success'?'bg-gradient-to-b from-emerald-400 to-teal-500':toast.type==='error'?'bg-gradient-to-b from-rose-400 to-red-600':toast.type==='warning'?'bg-gradient-to-b from-amber-400 to-orange-500':'bg-gradient-to-b from-indigo-500 to-blue-600')}),/*#__PURE__*/_jsx(\"div\",{className:\"shrink-0 p-3 rounded-xl \".concat(toast.type==='success'?'bg-emerald-50 text-emerald-600':toast.type==='error'?'bg-rose-50 text-rose-600':toast.type==='warning'?'bg-amber-50 text-amber-600':'bg-indigo-50 text-indigo-600'),children:getIconForToastType(toast.type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] font-bold uppercase tracking-wider \".concat(toast.type==='success'?'text-emerald-600':toast.type==='error'?'text-rose-600':toast.type==='warning'?'text-amber-600':'text-indigo-600'),children:[toast.type||'info',\" alert\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setToast(null),className:\"text-slate-400 hover:text-slate-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{size:16})})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-bold text-slate-900 leading-tight mb-1\",children:toast.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-slate-600 leading-relaxed line-clamp-3\",children:toast.message})]})]})})})]});};export const useNotifications=()=>{const context=useContext(NotificationContext);if(context===undefined){throw new Error('useNotifications must be used within a NotificationProvider');}return context;};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","notificationService","authService","Bell","AlertCircle","X","Shield","Zap","motion","AnimatePresence","jsx","_jsx","jsxs","_jsxs","NotificationContext","undefined","NotificationProvider","_ref","children","notifications","setNotifications","unreadCount","setUnreadCount","toast","setToast","user","setUser","showToast","title","message","type","arguments","length","setTimeout","fetchNotifications","showToastIfNew","isAuthenticated","data","getNotifications","prev","latestNew","alreadyKnown","some","n","id","is_read","content","description","unread","filter","err","console","error","addNotification","payload","Date","now","newNotif","created_at","toISOString","user_id","init","currentUser","getCurrentUser","poll","setInterval","clearInterval","markAsRead","map","_objectSpread","Math","max","markAllAsRead","getIconForToastType","size","Provider","value","refresh","div","initial","opacity","x","y","animate","exit","scale","transition","stiffness","damping","className","concat","onClick","useNotifications","context","Error"],"sources":["D:/Collabryta/collabryta-frontend/src/context/NotificationContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback, useRef } from 'react';\r\nimport { notificationService, Notification } from '../services/notificationService';\r\nimport { authService } from '../services/authService';\r\nimport { Bell, AlertCircle, X, Shield, Zap } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface NotificationContextType {\r\n    notifications: Notification[];\r\n    unreadCount: number;\r\n    addNotification: (notification: any) => void;\r\n    markAsRead: (id: number) => Promise<void>;\r\n    markAllAsRead: () => Promise<void>;\r\n    refresh: () => Promise<void>;\r\n    showToast: (title: string, message: string, type?: 'info' | 'success' | 'warning' | 'error') => void;\r\n}\r\n\r\nconst NotificationContext = createContext<NotificationContextType | undefined>(undefined);\r\n\r\nexport const NotificationProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const [notifications, setNotifications] = useState<Notification[]>([]);\r\n    const [unreadCount, setUnreadCount] = useState(0);\r\n    const [toast, setToast] = useState<{ title: string; message: string; type: string } | null>(null);\r\n    const [user, setUser] = useState<any>(null);\r\n\r\n    const showToast = useCallback((title: string, message: string, type: string = 'info') => {\r\n        setToast({ title, message, type });\r\n        setTimeout(() => setToast(null), 6000);\r\n    }, []);\r\n\r\n    const fetchNotifications = useCallback(async (showToastIfNew = false) => {\r\n        if (!authService.isAuthenticated()) return;\r\n\r\n        try {\r\n            const data = await notificationService.getNotifications(0, 50);\r\n\r\n            if (showToastIfNew) {\r\n                setNotifications(prev => {\r\n                    if (data.length > 0 && prev.length > 0) {\r\n                        const latestNew = data[0];\r\n                        const alreadyKnown = prev.some(n => n.id === latestNew.id);\r\n                        if (!alreadyKnown && !latestNew.is_read) {\r\n                            const content = latestNew.description || (latestNew as any).content || (latestNew as any).message || '';\r\n                            showToast(latestNew.title, content, latestNew.type || 'info');\r\n                        }\r\n                    }\r\n                    return data;\r\n                });\r\n            } else {\r\n                setNotifications(data);\r\n            }\r\n\r\n            const unread = data.filter(n => !n.is_read).length;\r\n            setUnreadCount(unread);\r\n        } catch (err) {\r\n            console.error('[Notifications] Fetch Error:', err);\r\n        }\r\n    }, [showToast]);\r\n\r\n    const addNotification = useCallback((payload: any) => {\r\n        const id = payload.id || Date.now();\r\n        const content = payload.description || payload.content || payload.message || '';\r\n\r\n        const newNotif: Notification = {\r\n            id,\r\n            title: payload.title || 'Notification',\r\n            description: content,\r\n            type: payload.type || 'info',\r\n            created_at: payload.created_at || new Date().toISOString(),\r\n            is_read: false,\r\n            user_id: user?.id || 0\r\n        };\r\n\r\n        setNotifications(prev => {\r\n            if (prev.some(n => n.id === id)) return prev;\r\n            showToast(newNotif.title, content, newNotif.type);\r\n            return [newNotif, ...prev];\r\n        });\r\n        setUnreadCount(prev => prev + 1);\r\n    }, [showToast, user?.id]);\r\n\r\n    useEffect(() => {\r\n        const init = async () => {\r\n            if (authService.isAuthenticated()) {\r\n                try {\r\n                    const currentUser = await authService.getCurrentUser();\r\n                    setUser(currentUser);\r\n                    fetchNotifications();\r\n                } catch (err) {\r\n                    console.error('[Notifications] Init Error:', err);\r\n                }\r\n            }\r\n        };\r\n\r\n        if (authService.isAuthenticated() && !user) {\r\n            init();\r\n        }\r\n    }, [fetchNotifications, user]);\r\n\r\n    // Fallback polling (every 2 minutes)\r\n    useEffect(() => {\r\n        const poll = setInterval(() => {\r\n            if (authService.isAuthenticated()) fetchNotifications(true);\r\n        }, 120000);\r\n        return () => clearInterval(poll);\r\n    }, [fetchNotifications]);\r\n\r\n    const markAsRead = async (id: number) => {\r\n        try {\r\n            await notificationService.markAsRead(id);\r\n            setNotifications(prev => prev.map(n => n.id === id ? { ...n, is_read: true } : n));\r\n            setUnreadCount(prev => Math.max(0, prev - 1));\r\n        } catch (err) {\r\n            console.error('[Notifications] Mark Read Error:', err);\r\n        }\r\n    };\r\n\r\n    const markAllAsRead = async () => {\r\n        try {\r\n            await notificationService.markAllAsRead();\r\n            setNotifications(prev => prev.map(n => ({ ...n, is_read: true })));\r\n            setUnreadCount(0);\r\n        } catch (err) {\r\n            console.error('[Notifications] Mark All Read Error:', err);\r\n        }\r\n    };\r\n\r\n    const getIconForToastType = (type: string) => {\r\n        switch (type) {\r\n            case 'success': return <Shield size={20} />;\r\n            case 'error': return <AlertCircle size={20} />;\r\n            case 'warning': return <Zap size={20} />;\r\n            default: return <Bell size={20} />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <NotificationContext.Provider value={{\r\n            notifications,\r\n            unreadCount,\r\n            addNotification,\r\n            markAsRead,\r\n            markAllAsRead,\r\n            refresh: fetchNotifications,\r\n            showToast\r\n        }}>\r\n            {children}\r\n            <AnimatePresence>\r\n                {\r\n                    toast && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0, x: 100, y: 20 }}\r\n                            animate={{ opacity: 1, x: 0, y: 0 }}\r\n                            exit={{ opacity: 0, x: 100, scale: 0.9 }}\r\n                            transition={{ type: \"spring\", stiffness: 400, damping: 30 }}\r\n                            className=\"fixed top-24 right-6 z-[9999] w-full max-w-[380px]\"\r\n                        >\r\n                            <div className=\"relative group overflow-hidden rounded-2xl border border-white/20 bg-white/80 backdrop-blur-xl shadow-[0_20px_50px_rgba(0,0,0,0.1)] p-5 flex items-start gap-4 transition-all hover:shadow-[0_25px_60px_rgba(0,0,0,0.15)]\">\r\n                                <div className={`absolute top-0 left-0 w-1.5 h-full ${toast.type === 'success' ? 'bg-gradient-to-b from-emerald-400 to-teal-500' :\r\n                                    toast.type === 'error' ? 'bg-gradient-to-b from-rose-400 to-red-600' :\r\n                                        toast.type === 'warning' ? 'bg-gradient-to-b from-amber-400 to-orange-500' :\r\n                                            'bg-gradient-to-b from-indigo-500 to-blue-600'\r\n                                    }`} />\r\n\r\n                                <div className={`shrink-0 p-3 rounded-xl ${toast.type === 'success' ? 'bg-emerald-50 text-emerald-600' :\r\n                                    toast.type === 'error' ? 'bg-rose-50 text-rose-600' :\r\n                                        toast.type === 'warning' ? 'bg-amber-50 text-amber-600' :\r\n                                            'bg-indigo-50 text-indigo-600'\r\n                                    }`}>\r\n                                    {getIconForToastType(toast.type)}\r\n                                </div>\r\n\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                    <div className=\"flex items-center justify-between mb-1\">\r\n                                        <span className={`text-[10px] font-bold uppercase tracking-wider ${toast.type === 'success' ? 'text-emerald-600' :\r\n                                            toast.type === 'error' ? 'text-rose-600' :\r\n                                                toast.type === 'warning' ? 'text-amber-600' :\r\n                                                    'text-indigo-600'\r\n                                            }`}>\r\n                                            {toast.type || 'info'} alert\r\n                                        </span>\r\n                                        <button\r\n                                            onClick={() => setToast(null)}\r\n                                            className=\"text-slate-400 hover:text-slate-600 transition-colors\"\r\n                                        >\r\n                                            <X size={16} />\r\n                                        </button>\r\n                                    </div>\r\n                                    <h4 className=\"text-sm font-bold text-slate-900 leading-tight mb-1\">\r\n                                        {toast.title}\r\n                                    </h4>\r\n                                    <p className=\"text-xs font-medium text-slate-600 leading-relaxed line-clamp-3\">\r\n                                        {toast.message}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </motion.div>\r\n                    )\r\n                }\r\n            </AnimatePresence >\r\n        </NotificationContext.Provider >\r\n    );\r\n};\r\n\r\nexport const useNotifications = () => {\r\n    const context = useContext(NotificationContext);\r\n    if (context === undefined) {\r\n        throw new Error('useNotifications must be used within a NotificationProvider');\r\n    }\r\n    return context;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}