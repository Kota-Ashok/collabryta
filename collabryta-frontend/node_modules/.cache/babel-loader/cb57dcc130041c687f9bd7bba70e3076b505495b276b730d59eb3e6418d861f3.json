{"ast":null,"code":"var _jsxFileName = \"D:\\\\Collabryta\\\\collabryta-frontend\\\\src\\\\context\\\\NotificationContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { webSocketService } from '../services/websocketService';\n\n/**\r\n * Context interface for managing global application notifications.\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationContext = createContext(undefined);\nexport const NotificationProvider = ({\n  children\n}) => {\n  _s();\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [toast, setToast] = useState(null);\n  const showToast = useCallback((title, message, type = 'info') => {\n    setToast({\n      title,\n      message,\n      type\n    });\n    setTimeout(() => setToast(null), 5000);\n  }, []);\n  const fetchNotifications = useCallback(async () => {\n    if (!authService.isAuthenticated()) return;\n    try {\n      const data = await notificationService.getNotifications(0, 50);\n      setNotifications(data);\n      setUnreadCount(data.filter(n => !n.is_read).length);\n    } catch (err) {\n      console.error('Error fetching notifications:', err);\n    }\n  }, []);\n  const addNotification = useCallback(notification => {\n    setNotifications(prev => {\n      // Check if notification already exists to avoid duplicates\n      if (prev.some(n => n.id === notification.id)) return prev;\n\n      // Show toast for new live notifications\n      showToast(notification.title, notification.description, notification.type);\n      return [notification, ...prev];\n    });\n    setUnreadCount(prev => prev + 1);\n  }, [showToast]);\n  const handleWebSocketMessage = useCallback(message => {\n    console.log('Received WebSocket message:', message);\n    switch (message.type) {\n      case 'notification':\n        addNotification(message.data);\n        break;\n      case 'message':\n        showToast('New Message', message.data.content, 'info');\n        break;\n      case 'task':\n        // The backend might already send a notification for task creation/update\n        // If not, we could show a toast here. \n        // Based on my backend changes, I send BOTH.\n        // So I'll let the 'notification' case handle the toast to avoid double toast.\n        break;\n      case 'meeting':\n      case 'file':\n        break;\n      default:\n        break;\n    }\n  }, [addNotification, showToast]);\n  const markAsRead = async id => {\n    try {\n      await notificationService.markAsRead(id);\n      setNotifications(prev => prev.map(n => n.id === id ? {\n        ...n,\n        is_read: true\n      } : n));\n      setUnreadCount(prev => Math.max(0, prev - 1));\n    } catch (err) {\n      console.error('Error marking notification as read:', err);\n    }\n  };\n  const markAllAsRead = async () => {\n    try {\n      await notificationService.markAllAsRead();\n      setNotifications(prev => prev.map(n => ({\n        ...n,\n        is_read: true\n      })));\n      setUnreadCount(0);\n    } catch (err) {\n      console.error('Error marking all notifications as read:', err);\n    }\n  };\n  useEffect(() => {\n    if (authService.isAuthenticated()) {\n      fetchNotifications();\n      const token = localStorage.getItem('token');\n      if (token) {\n        webSocketService.connect(token);\n        const unsubscribe = webSocketService.subscribe(handleWebSocketMessage);\n        return () => {\n          unsubscribe();\n          // We don't necessarily want to disconnect here if the component unmounts/remounts\n          // but since NotificationProvider is usually top-level, it's fine.\n        };\n      }\n    } else {\n      webSocketService.disconnect();\n    }\n  }, [fetchNotifications, handleWebSocketMessage]);\n  const getIconForToastType = type => {\n    switch (type) {\n      case 'success':\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-5 w-5 text-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 36\n        }, this);\n      case 'info':\n        return /*#__PURE__*/_jsxDEV(Info, {\n          className: \"h-5 w-5 text-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 33\n        }, this);\n      case 'warning':\n        return /*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"h-5 w-5 text-yellow-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 36\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"h-5 w-5 text-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 34\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Bell, {\n          className: \"h-5 w-5 text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 29\n        }, this);\n    }\n  };\n  const getBorderColorForToastType = type => {\n    switch (type) {\n      case 'success':\n        return 'border-green-500';\n      case 'info':\n        return 'border-blue-500';\n      case 'warning':\n        return 'border-yellow-500';\n      case 'error':\n        return 'border-red-500';\n      default:\n        return 'border-gray-300';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(NotificationContext.Provider, {\n    value: {\n      notifications,\n      unreadCount,\n      addNotification,\n      markAsRead,\n      markAllAsRead,\n      refresh: fetchNotifications,\n      showToast\n    },\n    children: [children, /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: toast && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: 50,\n          scale: 0.9\n        },\n        animate: {\n          opacity: 1,\n          x: 0,\n          scale: 1\n        },\n        exit: {\n          opacity: 0,\n          x: 50,\n          scale: 0.9\n        },\n        className: `fixed bottom-5 right-5 z-[9999] min-w-[320px] max-w-md bg-white rounded-2xl shadow-2xl border-l-4 ${getBorderColorForToastType(toast.type)} p-4 flex gap-4`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0 mt-0.5\",\n          children: getIconForToastType(toast.type)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-bold text-gray-900\",\n            children: toast.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1 line-clamp-2\",\n            children: toast.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setToast(null),\n          className: \"flex-shrink-0 self-start p-1 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 9\n  }, this);\n};\n_s(NotificationProvider, \"47tHmt4XYuHNwSJHV7GAdlt4UVU=\");\n_c = NotificationProvider;\nexport const useNotifications = () => {\n  _s2();\n  const context = useContext(NotificationContext);\n  if (context === undefined) {\n    throw new Error('useNotifications must be used within a NotificationProvider');\n  }\n  return context;\n};\n_s2(useNotifications, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"NotificationProvider\");","map":{"version":3,"names":["webSocketService","jsxDEV","_jsxDEV","NotificationContext","createContext","undefined","NotificationProvider","children","_s","notifications","setNotifications","useState","unreadCount","setUnreadCount","toast","setToast","showToast","useCallback","title","message","type","setTimeout","fetchNotifications","authService","isAuthenticated","data","notificationService","getNotifications","filter","n","is_read","length","err","console","error","addNotification","notification","prev","some","id","description","handleWebSocketMessage","log","content","markAsRead","map","Math","max","markAllAsRead","useEffect","token","localStorage","getItem","connect","unsubscribe","subscribe","disconnect","getIconForToastType","CheckCircle","className","fileName","_jsxFileName","lineNumber","columnNumber","Info","AlertTriangle","AlertCircle","Bell","getBorderColorForToastType","Provider","value","refresh","AnimatePresence","motion","div","initial","opacity","x","scale","animate","exit","onClick","X","size","_c","useNotifications","_s2","context","useContext","Error","$RefreshReg$"],"sources":["D:/Collabryta/collabryta-frontend/src/context/NotificationContext.tsx"],"sourcesContent":["import { webSocketService, WebSocketMessage } from '../services/websocketService';\r\n\r\n/**\r\n * Context interface for managing global application notifications.\r\n */\r\ninterface NotificationContextType {\r\n    notifications: Notification[];\r\n    unreadCount: number;\r\n    addNotification: (notification: Notification) => void;\r\n    markAsRead: (id: number) => Promise<void>;\r\n    markAllAsRead: () => Promise<void>;\r\n    refresh: () => Promise<void>;\r\n    showToast: (title: string, message: string, type?: 'info' | 'success' | 'warning' | 'error') => void;\r\n}\r\n\r\nconst NotificationContext = createContext<NotificationContextType | undefined>(undefined);\r\n\r\nexport const NotificationProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const [notifications, setNotifications] = useState<Notification[]>([]);\r\n    const [unreadCount, setUnreadCount] = useState(0);\r\n    const [toast, setToast] = useState<{ title: string; message: string; type: string } | null>(null);\r\n\r\n    const showToast = useCallback((title: string, message: string, type: 'info' | 'success' | 'warning' | 'error' = 'info') => {\r\n        setToast({ title, message, type });\r\n        setTimeout(() => setToast(null), 5000);\r\n    }, []);\r\n\r\n    const fetchNotifications = useCallback(async () => {\r\n        if (!authService.isAuthenticated()) return;\r\n\r\n        try {\r\n            const data = await notificationService.getNotifications(0, 50);\r\n            setNotifications(data);\r\n            setUnreadCount(data.filter(n => !n.is_read).length);\r\n        } catch (err) {\r\n            console.error('Error fetching notifications:', err);\r\n        }\r\n    }, []);\r\n\r\n    const addNotification = useCallback((notification: Notification) => {\r\n        setNotifications(prev => {\r\n            // Check if notification already exists to avoid duplicates\r\n            if (prev.some(n => n.id === notification.id)) return prev;\r\n\r\n            // Show toast for new live notifications\r\n            showToast(notification.title, notification.description, notification.type);\r\n\r\n            return [notification, ...prev];\r\n        });\r\n        setUnreadCount(prev => prev + 1);\r\n    }, [showToast]);\r\n\r\n    const handleWebSocketMessage = useCallback((message: WebSocketMessage) => {\r\n        console.log('Received WebSocket message:', message);\r\n\r\n        switch (message.type) {\r\n            case 'notification':\r\n                addNotification(message.data as Notification);\r\n                break;\r\n            case 'message':\r\n                showToast('New Message', message.data.content, 'info');\r\n                break;\r\n            case 'task':\r\n                // The backend might already send a notification for task creation/update\r\n                // If not, we could show a toast here. \r\n                // Based on my backend changes, I send BOTH.\r\n                // So I'll let the 'notification' case handle the toast to avoid double toast.\r\n                break;\r\n            case 'meeting':\r\n            case 'file':\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }, [addNotification, showToast]);\r\n\r\n    const markAsRead = async (id: number) => {\r\n        try {\r\n            await notificationService.markAsRead(id);\r\n            setNotifications(prev => prev.map(n => n.id === id ? { ...n, is_read: true } : n));\r\n            setUnreadCount(prev => Math.max(0, prev - 1));\r\n        } catch (err) {\r\n            console.error('Error marking notification as read:', err);\r\n        }\r\n    };\r\n\r\n    const markAllAsRead = async () => {\r\n        try {\r\n            await notificationService.markAllAsRead();\r\n            setNotifications(prev => prev.map(n => ({ ...n, is_read: true })));\r\n            setUnreadCount(0);\r\n        } catch (err) {\r\n            console.error('Error marking all notifications as read:', err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (authService.isAuthenticated()) {\r\n            fetchNotifications();\r\n\r\n            const token = localStorage.getItem('token');\r\n            if (token) {\r\n                webSocketService.connect(token);\r\n                const unsubscribe = webSocketService.subscribe(handleWebSocketMessage);\r\n                return () => {\r\n                    unsubscribe();\r\n                    // We don't necessarily want to disconnect here if the component unmounts/remounts\r\n                    // but since NotificationProvider is usually top-level, it's fine.\r\n                };\r\n            }\r\n        } else {\r\n            webSocketService.disconnect();\r\n        }\r\n    }, [fetchNotifications, handleWebSocketMessage]);\r\n\r\n    const getIconForToastType = (type: string) => {\r\n        switch (type) {\r\n            case 'success': return <CheckCircle className=\"h-5 w-5 text-green-500\" />;\r\n            case 'info': return <Info className=\"h-5 w-5 text-blue-500\" />;\r\n            case 'warning': return <AlertTriangle className=\"h-5 w-5 text-yellow-500\" />;\r\n            case 'error': return <AlertCircle className=\"h-5 w-5 text-red-500\" />;\r\n            default: return <Bell className=\"h-5 w-5 text-gray-500\" />;\r\n        }\r\n    };\r\n\r\n    const getBorderColorForToastType = (type: string) => {\r\n        switch (type) {\r\n            case 'success': return 'border-green-500';\r\n            case 'info': return 'border-blue-500';\r\n            case 'warning': return 'border-yellow-500';\r\n            case 'error': return 'border-red-500';\r\n            default: return 'border-gray-300';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <NotificationContext.Provider value={{\r\n            notifications,\r\n            unreadCount,\r\n            addNotification,\r\n            markAsRead,\r\n            markAllAsRead,\r\n            refresh: fetchNotifications,\r\n            showToast\r\n        }}>\r\n            {children}\r\n            <AnimatePresence>\r\n                {toast && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, x: 50, scale: 0.9 }}\r\n                        animate={{ opacity: 1, x: 0, scale: 1 }}\r\n                        exit={{ opacity: 0, x: 50, scale: 0.9 }}\r\n                        className={`fixed bottom-5 right-5 z-[9999] min-w-[320px] max-w-md bg-white rounded-2xl shadow-2xl border-l-4 ${getBorderColorForToastType(toast.type)} p-4 flex gap-4`}\r\n                    >\r\n                        <div className=\"flex-shrink-0 mt-0.5\">\r\n                            {getIconForToastType(toast.type)}\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                            <h4 className=\"text-sm font-bold text-gray-900\">{toast.title}</h4>\r\n                            <p className=\"text-xs text-gray-500 mt-1 line-clamp-2\">{toast.message}</p>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setToast(null)}\r\n                            className=\"flex-shrink-0 self-start p-1 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors\"\r\n                        >\r\n                            <X size={16} />\r\n                        </button>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </NotificationContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useNotifications = () => {\r\n    const context = useContext(NotificationContext);\r\n    if (context === undefined) {\r\n        throw new Error('useNotifications must be used within a NotificationProvider');\r\n    }\r\n    return context;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}